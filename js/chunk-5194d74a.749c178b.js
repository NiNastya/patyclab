(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5194d74a"],{"1e42":function(e,t,i){"use strict";i.d(t,"a",(function(){return c})),i.d(t,"c",(function(){return o})),i.d(t,"b",(function(){return u}));var a=i("5530"),n=i("1da1"),s=(i("99af"),i("96cf"),i("be3b")),r=i("4328"),l=i.n(r),c=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,i,n,r,c,o,u=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:1,i=u.length>1&&void 0!==u[1]?u[1]:100,n=u.length>2&&void 0!==u[2]?u[2]:null,r={},n&&(r.filters={id:{$ne:n}}),c=l.a.stringify(Object(a["a"])({sort:["id:asc"],pagination:{page:t,pageSize:i},populate:{image:"*",localizations:"*",steps:{populate:"*"},recipe_details:{populate:"*",subcategory:{populate:"*"}},nutrition_facts:{populate:"*"}}},r),{encodeValuesOnly:!0}),e.next=8,s["a"].get("/recipes?".concat(c));case 8:return o=e.sent,e.abrupt("return",null===o||void 0===o?void 0:o.data);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=l.a.stringify({populate:{image:"*",localizations:"*",products:{populate:"*"},steps:{populate:"*"},recipe_details:{populate:"*",subcategory:{populate:"*"}},nutrition_facts:{populate:"*"}}},{encodeValuesOnly:!0}),e.next=3,s["a"].get("/recipes/".concat(t,"?").concat(i));case 3:return a=e.sent,e.abrupt("return",null===a||void 0===a?void 0:a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,i,n,r){var c,o,u,p,d,f,v;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c=t.difficulty,o=t.ETA,r||(r=localStorage.key("selectCity")&&"undefined"!==localStorage.getItem("selectCity")?null===(u=JSON.parse(localStorage.getItem("selectCity")))||void 0===u?void 0:u.id:2),p={filters:{}},c&&(p.filters.difficulty={$in:c}),c||r||(p.filters.difficulty={$notNull:!0}),o&&(p.filters.ETA={$between:o}),o||r||(p.filters.ETA={$notNull:!0}),d={},d=i?{sort:["".concat(i.field,":").concat(i.sortType)]}:{sort:["id:asc"]},f=l.a.stringify(Object(a["a"])(Object(a["a"])({pagination:{page:(null===n||void 0===n?void 0:n.page)||1,pageSize:(null===n||void 0===n?void 0:n.pageSize)||1500},populate:{image:"*",localizations:"*",steps:{populate:"*"},recipe_details:{populate:"*",subcategory:{populate:"*"}},nutrition_facts:{populate:"*"}}},d),p),{encodeValuesOnly:!0}),e.next=12,s["a"].get("/recipes?".concat(f));case 12:return v=e.sent,e.abrupt("return",null===v||void 0===v?void 0:v.data);case 14:case"end":return e.stop()}}),e)})));return function(t,i,a,n){return e.apply(this,arguments)}}()},"1f84":function(e,t,i){e.exports=i.p+"img/prev-arrow-gray.a7afde11.png"},"23b5":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"recipes"},[a("div",{staticClass:"container"},[a("app-modal-filter"),a("div",{staticClass:"recipes__nav"},[a("locale-router-link",{staticClass:"crumbs-link main-page-link",attrs:{to:""}},[e._v(" "+e._s(e.$t("home"))+" ")]),a("a",{staticClass:"crumbs-link recipes-link"},[e._v(" "+e._s(e.$t("recipes.title")))])],1),a("div",{staticClass:"recipes__main"},[a("h1",{staticClass:"recipes__title"},[e._v(e._s(e.$t("recipes.title")))]),a("app-recipes-slider")],1),a("div",{staticClass:"recipes__catalog"},[a("div",{staticClass:"recipes__catalog__filters"},[a("button",{staticClass:"recipes__catalog__filters-filter",on:{click:function(t){return e.openFilter()}}},[a("img",{attrs:{src:i("fa46"),alt:""}}),e._v(" "+e._s(e.$t("buttons.filter"))+" ")])]),e.recipes.length?a("div",{staticClass:"recipes__catalog__items"},e._l(e.recipes,(function(t,i){return a("app-recipes-item",{key:t.id,class:{big:e.checkItemSize(i)},attrs:{item:t}})})),1):a("div",[a("p",[e._v("нет рецептов")])])])],1)])},n=[],s=i("1da1"),r=i("5530"),l=(i("7db0"),i("d3b7"),i("96cf"),i("1e42")),c=i("4360"),o=i("e45a"),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"recipes-banner"},[e.banners.length?a("swiper",{ref:"recipesSwiperRef",staticClass:"recipes-banner__slider",attrs:{options:e.swiperOption}},e._l(e.banners,(function(t,i){return a("swiper-slide",{key:i},[a("div",{staticClass:"recipes-banner__slide",style:{backgroundImage:"url("+e.getBannerImage(t)+")"}},[a("div",{staticClass:"recipes-banner__inner"},[a("div",{staticClass:"recipes-banner__content"},[a("div",{staticClass:"recipes-banner__header"},[a("p",{staticClass:"recipes-banner__date"},[e._v(e._s(e.getDate(t)))])]),a("h3",{staticClass:"recipes-banner__title"},[e._v(" "+e._s(t.attributes.header)+" ")]),a("div",{staticClass:"recipes-banner__buttons"},[a("a",{staticClass:"recipes-banner__btn",attrs:{href:t.attributes.link}},[e._v(" "+e._s(e.$t("more"))+" ")])])])])])])})),1):e._e(),a("div",{staticClass:"recipes-banner__arrows"},[a("button",{staticClass:"recipes-banner__prev",on:{click:e.prevSlide}},[a("img",{attrs:{src:i("1f84"),alt:""}})]),a("button",{staticClass:"recipes-banner__next",on:{click:e.nextSlide}},[a("img",{attrs:{src:i("970b"),alt:""}})])]),e._m(0)],1)},p=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"slider-pagination-wrapper"},[i("div",{staticClass:"pagination__custom"})])}],d=(i("ac1f"),i("1276"),i("2f62")),f=i("365c"),v={name:"AppRecipesSlider",props:{},data:function(){return{banners:[],swiperOption:{autoplay:{delay:1e4},effect:"fade",fadeEffect:{crossFade:!0},lazy:!0,slideTo:1,slidesPerView:1,spaceBetween:20,initialSlide:1,centeredSlides:!1,loop:!0,responsive:!0,allowTouchMove:!0,focusOnSelect:!1,pagination:{el:".pagination__custom",clickable:!0,renderBullet:function(e,t){return'<div class="wrapper '.concat(t,'">\n              <div class="pie spinner"></div>\n              <div class="pie filler"></div>\n              <div class="mask"></div>\n            </div>')}},breakpoints:{768:{allowTouchMove:!1}}},localMonth:{"января":"қаңтар","февраля":"ақпан","марта":"наурыз","апреля":"сәуір","мая":"мамыр","июня":"маусым","июля":"шілде","августа":"тамыз","сентября":"қыркүйек","октября":"қазан","ноября":"қараша"}}},watch:{selectedCity:{deep:!0,handler:function(){var e=this;Object(f["b"])(this.selectedCity.id,"article").then((function(t){e.banners=t}))}}},created:function(){var e=this;Object(f["b"])(this.selectedCity.id,"article").then((function(t){e.banners=t}))},computed:Object(r["a"])({swiper:function(){var e;return null===(e=this.$refs)||void 0===e?void 0:e.recipesSwiperRef}},Object(d["e"])("cityModule",["selectedCity"])),methods:{prevSlide:function(){var e;null===(e=this.swiper)||void 0===e||e.swiperInstance.slidePrev()},nextSlide:function(){this.swiper.swiperInstance.slideNext()},getDate:function(e){var t=new Date(e.attributes.publishedAt),i=new Intl.DateTimeFormat("ru-Ru",{year:"numeric",month:"long",day:"numeric"}).format(t),a=i.split(" "),n=a[0]+" "+this.localMonth[a[1]]+" "+a[2];return"kz"===this.$i18n.locale?n:i},getBannerImage:function(e){var t,i,a,n,s,r,l,c,o,u,p,d,f,v,_,b,m="https://placeholder.pics/svg/288x380/B7FF7D/6C6D73-79E858/no%20moblie%20image";return this.$isMobile()?null!==(o=e.attributes)&&void 0!==o&&null!==(u=o.image_mob)&&void 0!==u&&null!==(p=u.data)&&void 0!==p&&null!==(d=p.attributes)&&void 0!==d&&d.url?this.$helpers.getAbsolutePath(null===(f=e.attributes)||void 0===f||null===(v=f.image_mob)||void 0===v||null===(_=v.data)||void 0===_||null===(b=_.attributes)||void 0===b?void 0:b.url):m:null!==(t=e.attributes)&&void 0!==t&&null!==(i=t.image)&&void 0!==i&&null!==(a=i.data)&&void 0!==a&&null!==(n=a.attributes)&&void 0!==n&&n.url?this.$helpers.getAbsolutePath(null===(s=e.attributes)||void 0===s||null===(r=s.image)||void 0===r||null===(l=r.data)||void 0===l||null===(c=l.attributes)||void 0===c?void 0:c.url):m}}},_=v,b=(i("f68e"),i("2877")),m=Object(b["a"])(_,u,p,!1,null,"0e38ee72",null),g=m.exports,h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isFilterActive?a("div",{staticClass:"modal",on:{click:e.closeFilter}},[a("div",{staticClass:"filter__modal",on:{click:function(e){e.stopPropagation()}}},[a("div",{staticClass:"filter__modal-box"},[a("div",{staticClass:"back",on:{click:e.closeFilter}},[a("svg",{attrs:{width:"7",height:"16",viewBox:"0 0 7 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:"M0 14.5697L1.0617 16L7 8L1.0617 0L0 1.4303L4.87661 8L0 14.5697Z",fill:"currentColor"}})]),a("p",[e._v(e._s(e.$t("modals.back")))])]),a("div",{staticClass:"filter__modal__name"},[a("p",[e._v(e._s(e.$t("buttons.filter")))]),a("img",{attrs:{src:i("6282"),alt:""},on:{click:e.closeFilter}})]),a("div",{staticClass:"filter__modal__options"},e._l(e.filters,(function(t,i){return a("div",{key:i},[a("p",{staticClass:"options__name"},[e._v(e._s(t.name))]),a("div",{staticClass:"options__buttons"},e._l(t.data,(function(i,n){return a("button",{key:n,class:{active:e.isSelectFilter({filter:t,btn:i})},on:{click:function(a){return e.selectFilter({btn:i,filter:t})}}},[e._v(" "+e._s(i.label)+" ")])})),0)])})),0)]),a("div",{staticClass:"modal__button"},[a("div",{staticClass:"modal__button-box"},[a("button",{staticClass:"modal__button__passive",on:{click:e.resetFilter}},[e._v(" Сбросить фильтры ")]),a("button",{staticClass:"modal__button__active",on:{click:e.applyFilter}},[e._v(" Применить фильтры ")])])])])]):e._e()},y=[],C=(i("4de4"),i("159b"),i("6663")),w={data:function(){return{filters:[{id:1,name:"Сложность:",selectValue:null,data:[{label:"легкий",value:1,type:"difficulty"},{label:"средний",value:2,type:"difficulty"},{label:"профи",value:3,type:"difficulty"}]},{id:2,name:"Время приготовления:",selectValue:null,data:[{label:"до 15 минут",value:["00:00:00","00:15:00"],type:"ETA"},{label:"до 30 минут",type:"ETA",value:["00:00:00","00:30:00"]}]}],selectFilters:[]}},computed:Object(r["a"])({},Object(d["e"])(["isFilterActive"])),methods:Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(d["b"])({closeFilter:c["a"].changeOpenFilter})),Object(d["b"])("recipesModule",{getRecipesFilters:C["a"].getRecipesFilters})),{},{selectFilter:function(e){this.filters.find((function(t){return t.id===e.filter.id})).selectValue=e.btn},resetFilter:function(){this.filters.forEach((function(e){e.selectValue=null})),this.selectFilters=[],this.getRecipesFilters(this.selectFilters)},applyFilter:function(){var e=this;this.selectFilters=[],this.filters.forEach((function(t){t.selectValue&&e.selectFilters.push(t.selectValue)})),this.getRecipesFilters(this.selectFilters),this.closeFilter()},isSelectFilter:function(e){var t,i,a;return(null===e||void 0===e||null===(t=e.filter)||void 0===t||null===(i=t.selectValue)||void 0===i?void 0:i.value)===(null===e||void 0===e||null===(a=e.btn)||void 0===a?void 0:a.value)}})},O=w,F=Object(b["a"])(O,h,y,!1,null,null,null),k=F.exports,j={components:{AppRecipesItem:o["a"],AppRecipesSlider:g,AppModalFilter:k},name:"PageRecipes",data:function(){return{recipes:[],filterActive:!1}},watch:{filters:{handler:function(){this.loadAllRecipesByFilter()}}},mounted:function(){this.filters.length?this.loadAllRecipesByFilter():this.loadAllRecipes()},methods:Object(r["a"])({loadAllRecipes:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["a"])();case 2:i=t.sent,e.recipes=i.data;case 4:case"end":return t.stop()}}),t)})))()},loadAllRecipesByFilter:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["b"])({difficulty:e.filters.find((function(e){return"difficulty"===e.type}))?e.filters.find((function(e){return"difficulty"===e.type})).value:null,ETA:e.filters.find((function(e){return"ETA"===e.type}))?e.filters.find((function(e){return"ETA"===e.type})).value:null},{field:"id",sortType:"asc"});case 2:i=t.sent,e.recipes=i.data;case 4:case"end":return t.stop()}}),t)})))()},checkItemSize:function(e){var t=e+1;return t%5===1||t%5===2}},Object(d["b"])({openFilter:c["a"].changeOpenFilter})),computed:Object(r["a"])(Object(r["a"])({},Object(d["e"])(["isFilterActive"])),Object(d["e"])("recipesModule",["filters"]))},x=j,A=(i("2714d"),Object(b["a"])(x,a,n,!1,null,"323e4a15",null));t["default"]=A.exports},"2714d":function(e,t,i){"use strict";i("a044")},"5bef":function(e,t,i){},6282:function(e,t,i){e.exports=i.p+"img/close.82ef5caa.svg"},"970b":function(e,t,i){e.exports=i.p+"img/next-arrow-gray.49913052.png"},a044:function(e,t,i){},cc56:function(e,t,i){"use strict";i("daf8")},daf8:function(e,t,i){},e45a:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"recipe-item"},[i("locale-router-link",{attrs:{to:"/recipes/"+e.item.id}},[i("img",{staticClass:"recipe-item__image",attrs:{src:e.getItemImage}}),i("div",{staticClass:"recipe-item__content"},[i("p",{staticClass:"recipe-item__content-date"},[e._v(e._s(e.getDateFormat(e.item.attributes.publishedAt)))]),i("h2",{staticClass:"recipe-item__content-title"},[e._v(e._s(e.item.attributes.title))]),i("p",{staticClass:"recipe-item__content-time"},[e._v(e._s(e.getTime(e.time))+" минут")])])])],1)},n=[],s=(i("ac1f"),i("1276"),i("c1df")),r=i.n(s),l={name:"AppRecipesItem",props:{item:{type:Object,default:function(){},required:!0}},data:function(){return{}},computed:{getItemImage:function(){var e,t,a,n,s,r;return null!==(e=this.item.attributes)&&void 0!==e&&null!==(t=e.image)&&void 0!==t&&t.data?this.$helpers.getAbsolutePath(null===(a=this.item.attributes)||void 0===a||null===(n=a.image)||void 0===n||null===(s=n.data)||void 0===s||null===(r=s.attributes)||void 0===r?void 0:r.url):i("421e")}},methods:{getDateFormat:function(e){return r()(e).locale(this.$i18n.locale).format("LL")},getTime:function(e){e=this.item.attributes.ETA.split(":");var t=parseInt(e[1],10);return t}}},c=l,o=(i("cc56"),i("2877")),u=Object(o["a"])(c,a,n,!1,null,"cc23663e",null);t["a"]=u.exports},f68e:function(e,t,i){"use strict";i("5bef")},fa46:function(e,t,i){e.exports=i.p+"img/filter-gray.f36f6ae3.svg"}}]);
//# sourceMappingURL=chunk-5194d74a.749c178b.js.map