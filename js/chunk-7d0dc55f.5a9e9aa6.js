(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7d0dc55f"],{"015b":function(t,e,i){},"10f3":function(t,e,i){"use strict";i("4680")},"1c20":function(t,e,i){t.exports=i.p+"img/fb.8eb956ce.svg"},"1e42":function(t,e,i){"use strict";i.d(e,"a",(function(){return l})),i.d(e,"c",(function(){return o})),i.d(e,"b",(function(){return u}));var s=i("5530"),a=i("1da1"),r=(i("99af"),i("96cf"),i("be3b")),c=i("4328"),n=i.n(c),l=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,i,a,c,l,o,u=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=u.length>0&&void 0!==u[0]?u[0]:1,i=u.length>1&&void 0!==u[1]?u[1]:100,a=u.length>2&&void 0!==u[2]?u[2]:null,c={},a&&(c.filters={id:{$ne:a}}),l=n.a.stringify(Object(s["a"])({sort:["id:asc"],pagination:{page:e,pageSize:i},populate:{image:"*",localizations:"*",steps:{populate:"*"},recipe_details:{populate:"*",subcategory:{populate:"*"}},nutrition_facts:{populate:"*"}}},c),{encodeValuesOnly:!0}),t.next=8,r["a"].get("/recipes?".concat(l));case 8:return o=t.sent,t.abrupt("return",null===o||void 0===o?void 0:o.data);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=n.a.stringify({populate:{image:"*",localizations:"*",products:{populate:"*"},steps:{populate:"*"},recipe_details:{populate:"*",subcategory:{populate:"*"}},nutrition_facts:{populate:"*"}}},{encodeValuesOnly:!0}),t.next=3,r["a"].get("/recipes/".concat(e,"?").concat(i));case 3:return s=t.sent,t.abrupt("return",null===s||void 0===s?void 0:s.data);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),u=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e,i,a,c){var l,o,u,p,d,_,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return l=e.difficulty,o=e.ETA,c||(c=localStorage.key("selectCity")&&"undefined"!==localStorage.getItem("selectCity")?null===(u=JSON.parse(localStorage.getItem("selectCity")))||void 0===u?void 0:u.id:2),p={filters:{}},l&&(p.filters.difficulty={$in:l}),l||c||(p.filters.difficulty={$notNull:!0}),o&&(p.filters.ETA={$between:o}),o||c||(p.filters.ETA={$notNull:!0}),d={},d=i?{sort:["".concat(i.field,":").concat(i.sortType)]}:{sort:["id:asc"]},_=n.a.stringify(Object(s["a"])(Object(s["a"])({pagination:{page:(null===a||void 0===a?void 0:a.page)||1,pageSize:(null===a||void 0===a?void 0:a.pageSize)||1500},populate:{image:"*",localizations:"*",steps:{populate:"*"},recipe_details:{populate:"*",subcategory:{populate:"*"}},nutrition_facts:{populate:"*"}}},d),p),{encodeValuesOnly:!0}),t.next=12,r["a"].get("/recipes?".concat(_));case 12:return f=t.sent,t.abrupt("return",null===f||void 0===f?void 0:f.data);case 14:case"end":return t.stop()}}),t)})));return function(e,i,s,a){return t.apply(this,arguments)}}()},3403:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"full-recipe"},[s("div",{staticClass:"container"},[s("div",{staticClass:"full-recipe__nav"},[s("locale-router-link",{staticClass:"crumbs-link main-page-link",attrs:{to:""}},[t._v(" "+t._s(t.$t("home"))+" ")]),s("locale-router-link",{staticClass:"crumbs-link",attrs:{to:"/recipes"}},[t._v(" "+t._s(t.$t("recipes.title"))+" ")]),s("a",{staticClass:"crumbs-link recipes-link"},[t._v(t._s(t.recipeTitle))])],1),s("div",{staticClass:"full-recipe__main"},[s("h1",{staticClass:"full-recipe__title"},[t._v(t._s(t.recipeTitle))]),t.$isMobile()?s("div",{staticClass:"full-recipe__actions"},[s("app-share-actions"),s("div",{staticClass:"full-recipe__print"},[s("img",{attrs:{src:i("99d3"),alt:""},on:{click:function(e){return t.hanldePrintPage()}}})])],1):t._e(),s("div",{staticClass:"full-recipe__divider"}),t.recipeData?s("div",{staticClass:"full-recipe__main-inner"},[s("div",{staticClass:"full-recipe__content"},[s("div",{staticClass:"full-recipe__image"},[s("img",{attrs:{src:t.getImageUrl(t.recipeData.attributes.image),alt:""}})]),t.recipeData.attributes.content?s("p",{staticClass:"full-recipe__description full-recipe__text"},[t._v(" "+t._s(t.recipeData.attributes.content)+" ")]):t._e(),t.$isMobile()?t._e():s("div",{staticClass:"full-recipe__steps"},[s("h3",{staticClass:"full-recipe__title-small"},[t._v("Приготовление:")]),t._l(t.recipeData.attributes.steps,(function(e,i){return s("div",{key:e.text,staticClass:"full-recipe__steps-item"},[s("h4",[s("b",[t._v("Шаг "+t._s(i+1))])]),s("p",{staticClass:"full-recipe__text"},[t._v(" "+t._s(e.text)+" ")]),e.img.data?s("img",{attrs:{src:t.getImageUrl(e.img)}}):t._e()])}))],2)]),s("div",{staticClass:"full-recipe__aside"},[t.$isMobile()?t._e():s("div",{staticClass:"full-recipe__actions"},[s("app-share-actions"),s("div",{staticClass:"full-recipe__print"},[s("img",{attrs:{src:i("99d3"),alt:""},on:{click:function(e){return t.hanldePrintPage()}}})])],1),s("div",{staticClass:"full-recipe__info"},[s("div",{staticClass:"full-recipe__info-top"},[s("p",{staticClass:"full-recipe__date"},[t._v(" "+t._s(t.getDateFormat(t.recipeData.attributes.publishedAt))+" ")]),s("div",{staticClass:"full-recipe__views-count recipes__views-count"},[t._v(" "+t._s(t.recipeData.attributes.hits)+" ")])]),s("div",{staticClass:"full-recipe__info-list"},[s("p",{staticClass:"full-recipe__info-list-item"},[s("b",[t._v("Время приготовления: ")]),s("span",[t._v(t._s(t.recipeData.attributes.ETA))])]),s("p",{staticClass:"full-recipe__info-list-item"},[s("b",[t._v("Сложность: ")]),s("span",[t._v(t._s(t.getDifficultyLabel(t.recipeData.attributes.difficulty)))])])])]),s("div",{staticClass:"full-recipe__divider"}),t.recipeData.attributes.nutrition_facts?s("div",{staticClass:"full-recipe__value"},[s("h3",{staticClass:"full-recipe__title-small"},[t._v("Пищевая ценность на 100 г")]),s("div",{staticClass:"full-recipe__value-inner"},[s("div",{staticClass:"full-recipe__value-item"},[s("p",[t._v(t._s(t.recipeData.attributes.nutrition_facts.cals)+" kcal")]),s("span",[t._v("каллории")])]),s("div",{staticClass:"full-recipe__value-item"},[s("p",[t._v(t._s(t.recipeData.attributes.nutrition_facts.protein)+" г")]),s("span",[t._v("белки")])]),s("div",{staticClass:"full-recipe__value-item"},[s("p",[t._v(t._s(t.recipeData.attributes.nutrition_facts.fats)+" г")]),s("span",[t._v("жиры")])]),s("div",{staticClass:"full-recipe__value-item"},[s("p",[t._v(t._s(t.recipeData.attributes.nutrition_facts.carbonates)+" г")]),s("span",[t._v("углеводы")])])])]):t._e(),s("div",{staticClass:"full-recipe__block"},[t.$isMobile()?s("h3",{staticClass:"full-recipe__title-small"},[t._v(" Ингредиенты ")]):t._e(),t.recipeData.attributes.recipe_details?s("div",{staticClass:"full-recipe__ingredients"},[t.$isMobile()?t._e():s("div",{staticClass:"full-recipe__ingredients-top"},[s("h3",{staticClass:"full-recipe__title-small"},[t._v("Ингредиенты")]),s("div",{staticClass:"full-recipe__ingredients-portion"},[s("span",[t._v("порции")]),s("div",{staticClass:"full-recipe__ingredients-portion-inner"},[s("button",{attrs:{disabled:t.portionCount<=1},on:{click:function(e){t.portionCount-=1}}},[t._v(" - ")]),s("span",[t._v(t._s(t.portionCount))]),s("button",{on:{click:function(e){t.portionCount+=1}}},[t._v("+")])])])]),s("div",{staticClass:"full-recipe__ingredients-list"},t._l(t.recipeData.attributes.recipe_details,(function(e){return s("div",{key:e.name,staticClass:"full-recipe__ingredients-item"},[s("p",[t._v(t._s(e.name))]),s("p",{staticClass:"full-recipe__ingredients-item-measure"},[s("span",[t._v(t._s(t.calculateIngredientValue(e.quantity)))]),e.type?s("span",[t._v(t._s(t.$t("recipes.ingredients['"+e.type+"']")))]):t._e()])])})),0)]):t._e()])])]):t._e(),t.$isMobile()?s("div",{staticClass:"full-recipe__steps",staticStyle:{"margin-top":"30px"}},[s("h3",{staticClass:"full-recipe__title-small"},[t._v("Приготовление:")]),t._l(t.recipeData.attributes.steps,(function(e,i){return s("div",{key:e.text,staticClass:"full-recipe__steps-item"},[s("h4",[s("b",[t._v("Шаг "+t._s(i+1))])]),s("p",{staticClass:"full-recipe__text"},[t._v(" "+t._s(e.text)+" ")]),e.img.data?s("img",{attrs:{src:t.getImageUrl(e.img)}}):t._e()])}))],2):t._e()]),t.subcategories.length>0?s("div",{staticClass:"full-recipe__useful full-recipe__section"},[s("recipes-slider",{attrs:{products:t.products}})],1):t._e(),t.anotherRecipeItems.length?s("div",{staticClass:"full-recipe__another full-recipe__section"},[s("h2",{staticClass:"full-recipe__another-title full-recipe__section-title"},[t._v(" Другие вкусные рецепты ")]),s("div",{staticClass:"full-recipe__another-items"},t._l(t.getAnotherRecipes,(function(e,i){return s("app-recipes-item",{key:e.id,class:{big:t.checkItemSize(i)},attrs:{item:e}})})),1)]):t._e()])])},a=[],r=i("1da1"),c=i("5530"),n=(i("96cf"),i("fb6a"),i("d3b7"),i("159b"),i("c1df")),l=i.n(n),o=i("1e42"),u=i("e45a"),p=i("ccaf"),d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.products.length>0?s("section",{staticClass:"discount-catalog"},[s("div",{staticClass:"page__top discount-catalog__top"},[s("h2",{staticClass:"title"},[t._v("Товары, которые могут вам пригодиться:")]),s("div",{staticClass:"page__top-buttons discount-catalog__buttons"},[t.$isMobile()?t._e():s("div",{staticClass:"page__top-arrows discount-catalog__arrows"},[s("button",{staticClass:"discount-catalog__prev",on:{click:t.prevSlide}},[s("img",{attrs:{src:i("85e9"),alt:""}})]),s("button",{staticClass:"discount-catalog__next",on:{click:t.nextSlide}},[s("img",{attrs:{src:i("8415"),alt:""}})])])])]),t.$isMobile()?s("div",{staticClass:"discount-catalog__mobile"},t._l(t.products,(function(e,i){return s("div",{key:e.id,staticClass:"discount-catalog__mobile-list"},[i<5?s("product-card",{attrs:{item:e}}):t._e()],1)})),0):s("div",{staticClass:"discount-catalog__slider"},[s("swiper",{key:t.swiperOption.loop,ref:"swiperRef",attrs:{options:t.swiperOption}},t._l(t.products,(function(t){return s("swiper-slide",{key:t.id},[s("product-card",{attrs:{item:t}})],1)})),1)],1)]):t._e()},_=[],f=(i("3ca3"),i("ddb0"),{name:"DiscountList",components:{ProductCard:function(){return i.e("chunk-0f374dc6").then(i.bind(null,"8ac1"))}},props:{products:{type:Array,required:!0}},data:function(){return{swiperOption:{lazy:!0,slideTo:1,slidesPerView:1,loop:!1,initialSlide:1,centeredSlides:!1,responsive:!0,breakpoints:{600:{slidesPerView:2},800:{slidesPerView:3},1e3:{slidesPerView:4}}}}},computed:{swiper:function(){var t;return null===(t=this.$refs)||void 0===t?void 0:t.swiperRef}},methods:{prevSlide:function(){var t;null===(t=this.swiper)||void 0===t||t.swiperInstance.slidePrev()},nextSlide:function(){this.swiper.swiperInstance.slideNext()}},mounted:function(){this.products.length>4?this.swiperOption.loop=!0:this.swiperOption.loop=!1}}),v=f,g=(i("47fb"),i("2877")),m=Object(g["a"])(v,d,_,!1,null,"52ed919a",null),h=m.exports,b=i("4c79"),C=i("2f62"),w={name:"FullRecipe",components:{AppRecipesItem:u["a"],AppShareActions:p["a"],RecipesSlider:h},data:function(){return{recipeData:{},recipeTitle:"",portionCount:1,difficultyLabels:{1:this.$t("recipes.difficulty.veryEasy"),2:this.$t("recipes.difficulty.easy"),3:this.$t("recipes.difficulty.medium"),4:this.$t("recipes.difficulty.difficult"),5:this.$t("recipes.difficulty.veryDifficult")},anotherRecipeItems:[],subcategories:[],products:[]}},computed:Object(c["a"])(Object(c["a"])({},Object(C["e"])("cityModule",["selectedCity"])),{},{getAnotherRecipes:function(){return this.anotherRecipeItems.slice(0,5)}}),watch:{"$attrs.id":{handler:function(){this.subcategories=[],this.loadRecipeData()}},selectedCity:{deep:!0,handler:function(){var t=this;Object(b["a"])(1,10,this.subcategories,this.selectedCity.id).then((function(e){t.products=e.data,t.products.length>4?t.swiperOption.loop=!0:t.swiperOption.loop=!1}))}}},mounted:function(){this.loadRecipeData()},methods:{loadRecipeData:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var i,s,a,r,c,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["c"])(null===(i=t.$attrs)||void 0===i?void 0:i.id);case 2:if(s=e.sent,t.recipeData=s.data,t.recipeTitle=t.recipeData.attributes.title,"kz"!==t.$i18n.locale){e.next=10;break}return e.next=8,Object(o["c"])(null===(a=t.recipeData.attributes.localizations)||void 0===a||null===(r=a.data[0])||void 0===r?void 0:r.id);case 8:c=e.sent,t.recipeData=c.data;case 10:return s.data.attributes.recipe_details.forEach((function(e){var i,s;null!==(i=e.subcategory)&&void 0!==i&&null!==(s=i.data)&&void 0!==s&&s.id&&t.subcategories.push(e.subcategory.data.id)})),e.next=13,Object(o["a"])(1,100,t.recipeData.id);case 13:n=e.sent,t.anotherRecipeItems=n.data,t.loadProductsBySubcategory();case 16:case"end":return e.stop()}}),e)})))()},loadProductsBySubcategory:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.selectedCity){e.next=3;break}return e.next=3,Object(b["f"])(1,10,t.subcategories,null===(i=t.selectedCity)||void 0===i?void 0:i.id).then((function(e){t.products=e.data}));case 3:case"end":return e.stop()}}),e)})))()},getImageUrl:function(t){var e,s;return null!==t&&void 0!==t&&t.data?this.$helpers.getAbsolutePath(null===t||void 0===t||null===(e=t.data)||void 0===e||null===(s=e.attributes)||void 0===s?void 0:s.url):i("421e")},checkItemSize:function(t){var e=t+1;return e%5===1||e%5===2},calculateIngredientValue:function(t){return null===t?"-":t*this.portionCount},hanldePrintPage:function(){window.print()},getDateFormat:function(t){return l()(t).locale(this.$i18n.locale).format("LL")},getDifficultyLabel:function(t){return this.difficultyLabels[t]},getIngredientLabel:function(t){return this.difficultyLabels[t]}}},y=w,k=(i("10f3"),Object(g["a"])(y,s,a,!1,null,"c1663880",null));e["default"]=k.exports},4680:function(t,e,i){},"47fb":function(t,e,i){"use strict";i("e8c5")},"5cc0":function(t,e,i){t.exports=i.p+"img/share.4fe81277.svg"},"5ed1":function(t,e,i){t.exports=i.p+"img/ok.36199365.svg"},"7faa":function(t,e,i){t.exports=i.p+"img/vk.e59f5a0e.svg"},8415:function(t,e,i){t.exports=i.p+"img/next-arrow-white.5304c384.svg"},"85e9":function(t,e,i){t.exports=i.p+"img/prev-arrow-white.7f29e376.svg"},"99d3":function(t,e,i){t.exports=i.p+"img/print.dc0df91c.svg"},ca52:function(t,e,i){t.exports=i.p+"img/whatsapp.5bb7394f.svg"},cc56:function(t,e,i){"use strict";i("daf8")},ccaf:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"share-actions",on:{mouseleave:function(e){t.isShareListShown=!1}}},[s("img",{attrs:{src:i("5cc0"),alt:""},on:{mouseenter:function(e){t.isShareListShown=!0}}}),t.isShareListShown?s("div",{class:["share-actions-list",t.position],on:{mouseenter:function(e){t.isShareListShown=!0}}},[s("a",{staticClass:"share-actions-list__item",attrs:{href:"http://www.odnoklassniki.ru/dk?st.cmd=addShare&st.s=1&st._surl="+t.getShareUrl,target:"_blank"}},[s("img",{attrs:{src:i("5ed1")}})]),s("a",{staticClass:"share-actions-list__item",attrs:{href:"https://vk.com/share.php?url="+t.getShareUrl,target:"_blank"}},[s("img",{attrs:{src:i("7faa")}})]),s("a",{staticClass:"share-actions-list__item",attrs:{href:"https://www.facebook.com/sharer/sharer.php?u="+t.getShareUrl,target:"_blank"}},[s("img",{attrs:{src:i("1c20")}})]),s("a",{staticClass:"share-actions-list__item",attrs:{href:"https://wa.me/?text="+t.getShareUrl,"data-action":"share/whatsapp/share",target:"_blank"}},[s("img",{attrs:{src:i("ca52")}})]),s("a",{staticClass:"share-actions-list__item",attrs:{target:"_blank",href:"https://t.me/share/url?url="+t.getShareUrl+"&text=Поделится с ссылкой"}},[s("img",{attrs:{src:i("dedc")}})])]):t._e()])},a=[],r={name:"AppShareActions",props:{position:{type:String,default:"right"}},data:function(){return{isShareListShown:!1}},computed:{getShareUrl:function(){return window.location.href}}},c=r,n=(i("e7a0"),i("2877")),l=Object(n["a"])(c,s,a,!1,null,null,null);e["a"]=l.exports},daf8:function(t,e,i){},dedc:function(t,e,i){t.exports=i.p+"img/telegram.c94cd3cf.svg"},e45a:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"recipe-item"},[i("locale-router-link",{attrs:{to:"/recipes/"+t.item.id}},[i("img",{staticClass:"recipe-item__image",attrs:{src:t.getItemImage}}),i("div",{staticClass:"recipe-item__content"},[i("p",{staticClass:"recipe-item__content-date"},[t._v(t._s(t.getDateFormat(t.item.attributes.publishedAt)))]),i("h2",{staticClass:"recipe-item__content-title"},[t._v(t._s(t.item.attributes.title))]),i("p",{staticClass:"recipe-item__content-time"},[t._v(t._s(t.getTime(t.time))+" минут")])])])],1)},a=[],r=(i("ac1f"),i("1276"),i("c1df")),c=i.n(r),n={name:"AppRecipesItem",props:{item:{type:Object,default:function(){},required:!0}},data:function(){return{}},computed:{getItemImage:function(){var t,e,s,a,r,c;return null!==(t=this.item.attributes)&&void 0!==t&&null!==(e=t.image)&&void 0!==e&&e.data?this.$helpers.getAbsolutePath(null===(s=this.item.attributes)||void 0===s||null===(a=s.image)||void 0===a||null===(r=a.data)||void 0===r||null===(c=r.attributes)||void 0===c?void 0:c.url):i("421e")}},methods:{getDateFormat:function(t){return c()(t).locale(this.$i18n.locale).format("LL")},getTime:function(t){t=this.item.attributes.ETA.split(":");var e=parseInt(t[1],10);return e}}},l=n,o=(i("cc56"),i("2877")),u=Object(o["a"])(l,s,a,!1,null,"cc23663e",null);e["a"]=u.exports},e7a0:function(t,e,i){"use strict";i("015b")},e8c5:function(t,e,i){}}]);
//# sourceMappingURL=chunk-7d0dc55f.5a9e9aa6.js.map