(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-128f41c8"],{"7acb":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page-stocks"},[s("div",{staticClass:"container"},[s("div",{staticClass:"page-stocks__nav"},[s("locale-router-link",{staticClass:"crumbs-link main-page-link",attrs:{to:""}},[t._v(" "+t._s(t.$t("home"))+" ")]),s("a",{staticClass:"crumbs-link page-stocks-link"},[t._v(" "+t._s(t.$t("stocks.title")))])],1),s("div",{staticClass:"page-stocks__header"},[s("h1",{staticClass:"title"},[t._v(t._s(t.$t("stocks.title")))]),s("div",{staticClass:"page-stocks__tabs"},t._l(t.stocksType,(function(e){return s("div",{key:e.id,staticClass:"page-stocks__tab",class:{"is-active":e.id===t.selectedStockType.id},on:{click:function(a){return t.selectStockByStatus(e)}}},[t._v(" "+t._s(e.label)+" ")])})),0)]),t.stocks.data.length?s("div",{staticClass:"page-stocks__items"},t._l(t.stocks.data,(function(e){return s("locale-router-link",{key:e.id,staticClass:"stocks__item",attrs:{to:t.getComponent(e)}},[s("img",{attrs:{src:t.getImage(e),alt:"stock image",width:"380",height:"320"}})])})),1):t._e(),t.getAnnouncement?s("div",{staticClass:"page-stocks__announcement"},[s("p",{staticClass:"page-stocks__announcement-text"},[t._v(" "+t._s(t.$t("stocks.text"))+" ")]),s("img",{staticClass:"page-stocks__announcement-img",attrs:{src:a("9dc4"),alt:""}})]):t._e(),t.getAnnouncement||t.stocks.data.length?t._e():s("div",{staticClass:"page-stocks__none"},[s("h3",[t._v(t._s(t.$t("stocks.none")))])]),!t.pagination.isLastPage&&2!==t.selectedStockType.id&&t.stocks.data.length?s("button",{staticClass:"page-stocks-more",attrs:{disabled:t.isLoading},on:{click:t.nextStocksPage}},[t._v(" "+t._s(t.$t("seeAllBtn"))+" ")]):t._e()])])},i=[],n=a("5530"),o=a("2f62"),c=a("1e37"),l={name:"PageStocks",data:function(){return{stocksType:[{id:1,label:this.$t("current"),type:"current",isVisible:!0},{id:2,label:this.$t("announcement"),type:"announcement",isVisible:!0},{id:3,label:this.$t("completed"),type:"completed",isVisible:!0}],selectStock:null,pagination:{page:1,pageSize:9,isLastPage:!1}}},watch:{selectedStockType:{handler:function(){this.getSotckByPaginate()}},selectedCity:{deep:!0,handler:function(){this.getSotckByPaginate()}}},created:function(){this.$isMobile()?(this.pagination.page=1,this.pagination.pageSize=5):(this.pagination.page=1,this.pagination.pageSize=9),this.changeStockStatus(this.stocksType[0])},computed:Object(n["a"])(Object(n["a"])(Object(n["a"])({},Object(o["e"])("stockModule",{stocks:"data",isLoading:"isLoading",selectedStockType:"stockStatus"})),Object(o["e"])("cityModule",{selectedCity:"selectedCity"})),{},{getAnnouncement:function(){var t;return!this.stocks.data.length&&"announcement"===(null===(t=this.selectStock)||void 0===t?void 0:t.type)}}),methods:Object(n["a"])(Object(n["a"])({},Object(o["b"])("stockModule",{getAllStocks:c["a"].loadAllStocks,changeStockStatus:c["a"].changeStockStatus})),{},{getSotckByPaginate:function(){var t=this;this.$isMobile()?(this.pagination.page=1,this.pagination.pageSize=5):(this.pagination.page=1,this.pagination.pageSize=9),this.getAllStocks({pagination:{page:this.pagination.page,pageSize:this.pagination.pageSize},type:"replace"}).then((function(e){t.pagination.page===e.meta.pagination.pageCount?t.pagination.isLastPage=!0:t.pagination.isLastPage=!1}))},selectStockByStatus:function(t){this.changeStockStatus(t),this.selectStock=t},getImage:function(t){var e,a,s,i;return this.$helpers.getAbsolutePath(null===t||void 0===t||null===(e=t.attributes)||void 0===e||null===(a=e.preview_desktop)||void 0===a||null===(s=a.data)||void 0===s||null===(i=s.attributes)||void 0===i?void 0:i.url)},getComponent:function(t){return"only_discount"===t.attributes.promo_type?"stocks/products/"+t.id:"stocks/"+t.id},nextStocksPage:function(){var t=this;this.pagination.page++,this.getAllStocks({pagination:{page:this.pagination.page,pageSize:this.pagination.pageSize},type:"push"}).then((function(e){t.pagination.page===e.meta.pagination.pageCount?t.pagination.isLastPage=!0:t.pagination.isLastPage=!1}))}})},g=l,p=a("2877"),u=Object(p["a"])(g,s,i,!1,null,"4492b410",null);e["default"]=u.exports},"9dc4":function(t,e,a){t.exports=a.p+"img/popcorn.e3b4ec84.svg"}}]);
//# sourceMappingURL=chunk-128f41c8.c784367b.js.map