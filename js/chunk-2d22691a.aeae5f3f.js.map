{"version":3,"sources":["webpack:///./src/components/common/CitiesList.vue?98de","webpack:///src/components/common/CitiesList.vue","webpack:///./src/components/common/CitiesList.vue?eaa7","webpack:///./src/components/common/CitiesList.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","class","isOpenSelectCity","on","closeSelectCity","$event","stopPropagation","_v","_s","$t","cities","selectedCity","_l","city","key","id","preventDefault","saveCity","attributes","name","_e","staticRenderFns","computed","mapState","created","getAllCities","then","parseInt","JSON","params","lang","query","q","city_id","methods","mapActions","saveChoosedCity","$router","push","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,cAAcC,MAAM,CAAE,YAAaP,EAAIQ,kBAAmBC,GAAG,CAAC,MAAQT,EAAIU,kBAAkB,CAACN,EAAG,MAAM,CAACE,YAAY,yBAAyBG,GAAG,CAAC,MAAQ,SAASE,GAAQA,EAAOC,qBAAsB,CAACR,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACN,EAAIa,GAAGb,EAAIc,GAAGd,EAAIe,GAAG,kBAAmBf,EAAIgB,QAAUhB,EAAIiB,aAAcb,EAAG,MAAM,CAACE,YAAY,qBAAqBN,EAAIkB,GAAIlB,EAAU,QAAE,SAASmB,GAAM,OAAOf,EAAG,IAAI,CAACgB,IAAID,EAAKE,GAAGf,YAAY,oBAAoBC,MAAM,CACvjB,YAAaY,EAAKE,KAAOrB,EAAIiB,aAAaI,IAC1CZ,GAAG,CAAC,MAAQ,CAACT,EAAIU,gBAAgB,SAASC,GAAgC,OAAxBA,EAAOW,iBAAwBtB,EAAIuB,SAASJ,OAAU,CAACnB,EAAIa,GAAG,IAAIb,EAAIc,GAAGK,EAAKK,WAAWC,MAAM,UAAS,GAAGzB,EAAI0B,KAAKtB,EAAG,SAAS,CAACE,YAAY,sBAAsBG,GAAG,CAAC,MAAQT,EAAIU,kBAAkB,CAACV,EAAIa,GAAG,0BACrQc,EAAkB,G,gFCwCP,GACbF,KAAMA,aACNG,SAAUA,iCACZC,sCACAA,6BAAIb,OAAJA,OAAIC,aAAJA,kBAEEa,QANF,WAMA,WACI7B,KAAK8B,eAAeC,MAAK,SAA7B,GACM,IAAN,yBACAC,iCACAC,qDACA,yCACM,EAAN,4BACQ,IAAK,EAAb,sBACU,GAAI,EAAd,eAKY,YAJA,EAAZ,cACcC,OAAQA,CAAtBC,2BACcC,MAAOA,CAArBC,mBAAAC,oDAIU,EAAV,cACYJ,OAAQA,CAApBC,2BACYC,MAAOA,CAAnBE,wDAIM,EAAN,uBAGEC,QAASA,gDACXC,gBAAI/B,gBAAJA,iCACA+B,6BACIV,aAAJA,qBACIW,gBAAJA,6BAJA,IAMInB,SANJ,SAMAJ,GACMlB,KAAKyC,gBAAgBvB,GACrBlB,KAAK0C,QAAQC,KAAK,CAChBnB,KAAMA,KAAKA,OAAOA,KAClBU,OAAQA,sCACRE,MAAOA,wDAAfE,wBCpFmW,I,YCO/VM,EAAY,eACd,EACA9C,EACA4B,GACA,EACA,KACA,KACA,MAIa,aAAAkB,E","file":"js/chunk-2d22691a.aeae5f3f.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"city-choice\",class:{ 'is-opened': _vm.isOpenSelectCity },on:{\"click\":_vm.closeSelectCity}},[_c('div',{staticClass:\"city-choice__container\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('div',{staticClass:\"city-choice__title\"},[_vm._v(_vm._s(_vm.$t(\"selectCity\")))]),(_vm.cities && _vm.selectedCity)?_c('div',{staticClass:\"city-choice__list\"},_vm._l((_vm.cities),function(city){return _c('a',{key:city.id,staticClass:\"city-choice__city\",class:{\n          'is-active': city.id === _vm.selectedCity.id,\n        },on:{\"click\":[_vm.closeSelectCity,function($event){$event.preventDefault();return _vm.saveCity(city)}]}},[_vm._v(\" \"+_vm._s(city.attributes.name)+\" \")])}),0):_vm._e(),_c('button',{staticClass:\"city-choice__button\",on:{\"click\":_vm.closeSelectCity}},[_vm._v(\" Выбрать город \")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    class=\"city-choice\"\n    :class=\"{ 'is-opened': isOpenSelectCity }\"\n    @click=\"closeSelectCity\"\n  >\n    <div\n      class=\"city-choice__container\"\n      @click.stop=\"\"\n    >\n      <div class=\"city-choice__title\">{{ $t(\"selectCity\") }}</div>\n      <div\n        v-if=\"cities && selectedCity\"\n        class=\"city-choice__list\"\n      >\n        <a\n          v-for=\"city of cities\"\n          :key=\"city.id\"\n          class=\"city-choice__city\"\n          :class=\"{\n            'is-active': city.id === selectedCity.id,\n          }\"\n          @click=\"closeSelectCity\"\n          @click.prevent=\"saveCity(city)\"\n        >\n          {{ city.attributes.name }}\n        </a>\n      </div>\n      <button\n        class=\"city-choice__button\"\n        @click=\"closeSelectCity\"\n      >\n        Выбрать город\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapActions } from \"vuex\"\nimport { actionTypes } from \"@/store\"\nimport { actionTypes as actionTypesCity } from \"@/store/modules/city\"\n\nexport default {\n  name: \"CitiesList\",\n  computed: {\n    ...mapState([\"isOpenSelectCity\"]),\n    ...mapState(\"cityModule\", { cities: \"data\", selectedCity: \"selectedCity\" }),\n  },\n  created() {\n    this.getAllCities().then((cities) => {\n      const qsCity = this.$route.query.city_id\n        ? parseInt(this.$route.query.city_id)\n        : JSON.parse(localStorage.getItem(\"selectCity\").id) || 2\n      const city = cities.find((c) => c.id === qsCity)\n      this.$router.onReady(() => {\n        if (!this.$route.query.city_id) {\n          if (this.$route.query.q) {\n            this.$router.push({\n              params: { lang: this.$i18n.locale || \"ru\" },\n              query: { q: this.$route.query.q, city_id: city?.id || city || 2 },\n            })\n            return\n          }\n          this.$router.push({\n            params: { lang: this.$i18n.locale || \"ru\" },\n            query: { city_id: city?.id || city || 2 },\n          })\n        }\n      })\n      this.saveChoosedCity(city)\n    })\n  },\n  methods: {\n    ...mapActions({ closeSelectCity: actionTypes.changeIsOpenSelectCity }),\n    ...mapActions(\"cityModule\", {\n      getAllCities: actionTypesCity.loadAllCities,\n      saveChoosedCity: actionTypesCity.changeSelectedCity,\n    }),\n    saveCity(city) {\n      this.saveChoosedCity(city)\n      this.$router.push({\n        name: this.$route.name,\n        params: { ...this.$route.params },\n        query: { ...this.$route.query, city_id: city.id || 2 },\n      })\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CitiesList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CitiesList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CitiesList.vue?vue&type=template&id=0f568cdf&\"\nimport script from \"./CitiesList.vue?vue&type=script&lang=js&\"\nexport * from \"./CitiesList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}