{"version":3,"sources":["webpack:///./src/components/useful-articles/AppUsefulArticles.vue?42f7","webpack:///src/components/useful-articles/AppUsefulArticles.vue","webpack:///./src/components/useful-articles/AppUsefulArticles.vue?c157","webpack:///./src/components/useful-articles/AppUsefulArticles.vue","webpack:///./src/api/articles.js","webpack:///./src/components/useful-articles/AppUsefulArticles.vue?20f8"],"names":["render","_vm","this","_h","$createElement","_c","_self","articles","staticClass","_v","_s","$t","attrs","_l","item","index","key","class","big","checkItemSize","getDateFormat","attributes","publishedAt","header","directives","name","rawName","value","getImage","expression","pagination","isLastPage","_e","on","incrementItems","staticRenderFns","components","LocaleRouterLink","data","page","pageSize","showSeeAll","computed","created","$isMobile","getArticles","watch","handler","methods","e","getFilteredArticles","type","filteredArticles","date","locale","$i18n","format","urlImg","$helpers","getAbsolutePath","component","excludeId","query","qs","stringify","populate","cities","filters","id","$ne","$contains","axios","get","response","getArticleById"],"mappings":"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","file":"js/chunk-a97d6a9a.a8e1baa4.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.articles.length)?_c('div',{staticClass:\"useful-articles\"},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"useful-flex\"},[_c('h3',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.$t(\"usefulArticles\")))]),_c('locale-router-link',{staticClass:\"page__top-link header-block__link\",attrs:{\"to\":\"useful-articles\"}},[_vm._v(\" \"+_vm._s(_vm.$t(\"readMore\"))+\" \")])],1),_c('div',{staticClass:\"useful-articles__inner\"},[_vm._l((_vm.articles),function(item,index){return _c('div',{key:index,staticClass:\"useful-articles__item\",class:{ big: _vm.checkItemSize(index) }},[_c('locale-router-link',{staticClass:\"useful-articles__content\",attrs:{\"to\":(\"/useful-articles/\" + (item.id))}},[_c('p',{staticClass:\"useful-articles__date\"},[_vm._v(\" \"+_vm._s(_vm.getDateFormat(item.attributes.publishedAt))+\" \")]),_c('h6',{staticClass:\"useful-articles__title\"},[_vm._v(_vm._s(item.attributes.header))])]),_c('locale-router-link',{attrs:{\"to\":(\"/useful-articles/\" + (item.id))}},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.getImage(item)),expression:\"getImage(item)\"}],staticClass:\"useful-articles__image\"})])],1)}),(!_vm.pagination.isLastPage)?_c('button',{staticClass:\"useful-articles__button\",on:{\"click\":_vm.incrementItems}},[_vm._v(\" \"+_vm._s(_vm.$t(\"seeAllBtn\"))+\" \")]):_vm._e()],2)])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    v-if=\"articles.length\"\n    class=\"useful-articles\"\n  >\n    <div class=\"container\">\n      <div class=\"useful-flex\">\n        <h3 class=\"title\">{{ $t(\"usefulArticles\") }}</h3>\n        <locale-router-link\n          to=\"useful-articles\"\n          class=\"page__top-link header-block__link\"\n        >\n          {{ $t(\"readMore\") }}\n        </locale-router-link>\n      </div>\n      <div class=\"useful-articles__inner\">\n        <div\n          v-for=\"(item, index) in articles\"\n          :key=\"index\"\n          class=\"useful-articles__item\"\n          :class=\"{ big: checkItemSize(index) }\"\n        >\n          <locale-router-link\n            :to=\"`/useful-articles/${item.id}`\"\n            class=\"useful-articles__content\"\n          >\n            <p class=\"useful-articles__date\">\n              {{ getDateFormat(item.attributes.publishedAt) }}\n            </p>\n            <h6 class=\"useful-articles__title\">{{ item.attributes.header }}</h6>\n          </locale-router-link>\n          <locale-router-link :to=\"`/useful-articles/${item.id}`\">\n            <img\n              v-lazy=\"getImage(item)\"\n              class=\"useful-articles__image\"\n          /></locale-router-link>\n        </div>\n        <button\n          class=\"useful-articles__button\"\n          v-if=\"!pagination.isLastPage\"\n          @click=\"incrementItems\"\n        >\n          {{ $t(\"seeAllBtn\") }}\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport moment from \"moment\"\nimport { getArticles } from \"@/api/articles\"\nimport LocaleRouterLink from \"../language/LocaleRouterLink.vue\"\n\nexport default {\n  name: \"AppUsefulArticles\",\n\n  components: { LocaleRouterLink },\n\n  data() {\n    return {\n      articles: [],\n      pagination: {\n        page: 1,\n        pageSize: 5,\n        isLastPage: false,\n      },\n      showSeeAll: false,\n    }\n  },\n\n  computed: {},\n\n  created() {\n    if (this.$isMobile()) {\n      this.pagination.pageSize = 3\n    }\n    getArticles(this.pagination.page, this.pagination.pageSize, \"article\").then((res) => {\n      this.articles = this.getFilteredArticles(res.data)\n      if (this.articles.length < res.meta.pagination.total) {\n        this.showSeeAll = true\n        this.pagination.isLastPage = false\n      } else {\n        this.showSeeAll = false\n        this.pagination.isLastPage = true\n      }\n    })\n  },\n\n  watch: {\n    \"pagination.page\": {\n      handler() {\n        getArticles(this.pagination.page, this.pagination.pageSize, \"article\").then((res) => {\n          const newArticles = this.getFilteredArticles(res.data)\n          this.articles = [...this.articles, ...newArticles]\n          if (this.articles.length < res.meta.pagination.total) {\n            this.showSeeAll = true\n            this.pagination.isLastPage = false\n          } else {\n            this.showSeeAll = false\n            this.pagination.isLastPage = true\n          }\n        })\n      },\n    },\n  },\n\n  methods: {\n    incrementItems() {\n      this.pagination.page++\n    },\n    checkItemSize(e) {\n      const index = e + 1\n      return index % 5 === 1 || index % 5 === 2\n    },\n    getFilteredArticles(articles) {\n      const filteredArticles = articles.filter((item) => {\n        return item.attributes.type === \"article\"\n      })\n      return filteredArticles\n    },\n    getDateFormat(date) {\n      return moment(date).locale(this.$i18n.locale).format(\"LL\")\n    },\n    getImage(item) {\n      const urlImg = item?.attributes?.image?.data?.attributes?.url\n      if (urlImg) {\n        return this.$helpers.getAbsolutePath(urlImg)\n      }\n      return require(\"@/\" + \"assets/img/icons/placeholder.svg\")\n    },\n    // nextArticlesPage() {\n    //   this.pagination.page++\n    // },\n  },\n}\n</script>\n\n<style\n  lang=\"scss\"\n  scoped\n>\n.isVisible {\n  display: none;\n}\n.title {\n  font-size: 38px;\n  line-height: 87.69%;\n  font-family: \"CeraPro Bold\";\n  color: #2d2f32;\n}\n@media (max-width: 900px) {\n  .title {\n    font-size: 34px;\n  }\n}\n@media (max-width: 768px) {\n  .title {\n    font-size: 20px;\n    /* max-width: 140px; */\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppUsefulArticles.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppUsefulArticles.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppUsefulArticles.vue?vue&type=template&id=13b94436&scoped=true&\"\nimport script from \"./AppUsefulArticles.vue?vue&type=script&lang=js&\"\nexport * from \"./AppUsefulArticles.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AppUsefulArticles.vue?vue&type=style&index=0&id=13b94436&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"13b94436\",\n  null\n  \n)\n\nexport default component.exports","import axios from \"@/plugins/axios\"\nimport qs from \"qs\"\n\nexport const getArticles = async (page = 1, pageSize = 500, type, excludeId) => {\n  const query = qs.stringify({\n    pagination: {\n      page,\n      pageSize,\n    },\n    populate: \"*\",\n    cities: {\n      populate: \"*\",\n    },\n    filters: {\n      id: {\n        $ne: excludeId,\n      },\n      type: {\n        $contains: type,\n      },\n    },\n  })\n  const response = await axios.get(`/articles?${query}`)\n  return response?.data\n}\n\nexport const getArticleById = async (id) => {\n  const query = qs.stringify({\n    populate: \"*\",\n    cities: {\n      populate: \"*\",\n    },\n  })\n  const response = await axios.get(`/articles/${id}?${query}`)\n  return response?.data\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppUsefulArticles.vue?vue&type=style&index=0&id=13b94436&lang=scss&scoped=true&\""],"sourceRoot":""}