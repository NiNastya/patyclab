{"version":3,"sources":["webpack:///./src/api/articles.js","webpack:///./src/views/useful-articles/PageUsefulArticles.vue?4e5e","webpack:///./src/views/useful-articles/PageUsefulArticles.vue?dfb4","webpack:///src/views/useful-articles/PageUsefulArticles.vue","webpack:///./src/views/useful-articles/PageUsefulArticles.vue?f1b6","webpack:///./src/views/useful-articles/PageUsefulArticles.vue"],"names":["getArticles","page","pageSize","type","excludeId","query","qs","stringify","pagination","populate","cities","filters","id","$ne","$contains","axios","get","response","data","getArticleById","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","_s","$t","_l","item","index","key","class","big","checkItemSize","hidden","attributes","getDate","header","getImage","isLastPage","_e","on","nextPage","staticRenderFns","name","show","showSeeAll","articles","localMonth","января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","methods","e","$helpers","getAbsolutePath","year","month","day","format","dateFromStr","$i18n","locale","dateKZ","dateRU","created","component"],"mappings":"oRAGaA,EAAW,yDAAG,iIAAOC,EAAP,+BAAc,EAAGC,EAAjB,+BAA4B,IAAKC,EAAjC,uBAAuCC,EAAvC,uBACnBC,EAAQC,IAAGC,UAAU,CACzBC,WAAY,CACVP,OACAC,YAEFO,SAAU,IACVC,OAAQ,CACND,SAAU,KAEZE,QAAS,CACPC,GAAI,CACFC,IAAKT,GAEPD,KAAM,CACJW,UAAWX,MAfQ,SAmBFY,OAAMC,IAAN,oBAAuBX,IAnBrB,cAmBnBY,EAnBmB,gCAoBlBA,QApBkB,IAoBlBA,OApBkB,EAoBlBA,EAAUC,MApBQ,2CAAH,qDAuBXC,EAAc,yDAAG,WAAOP,GAAP,gGACtBP,EAAQC,IAAGC,UAAU,CACzBE,SAAU,IACVC,OAAQ,CACND,SAAU,OAJc,SAOLM,OAAMC,IAAN,oBAAuBJ,EAAvB,YAA6BP,IAPxB,cAOtBY,EAPsB,gCAQrBA,QARqB,IAQrBA,OARqB,EAQrBA,EAAUC,MARW,2CAAH,uD,oCC1B3B,W,yCCAA,IAAIE,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,qBAAqB,CAACE,YAAY,6BAA6BC,MAAM,CAAC,GAAK,KAAK,CAACP,EAAIQ,GAAG,IAAIR,EAAIS,GAAGT,EAAIU,GAAG,SAAS,OAAON,EAAG,IAAI,CAACE,YAAY,4BAA4B,CAACN,EAAIQ,GAAG,IAAIR,EAAIS,GAAGT,EAAIU,GAAG,uBAAuB,GAAGN,EAAG,KAAK,CAACE,YAAY,kBAAkB,CAACN,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIU,GAAG,sBAAsBN,EAAG,MAAM,CAACE,YAAY,mBAAmBN,EAAIW,GAAIX,EAAY,UAAE,SAASY,EAAKC,GAAO,OAAOT,EAAG,MAAM,CAACU,IAAID,EAAMP,YAAY,iBAAiBS,MAAM,CAAEC,IAAKhB,EAAIiB,cAAcJ,GAAQK,OAAgC,WAAxBN,EAAKO,WAAWrC,OAAqB,CAACsB,EAAG,qBAAqB,CAACG,MAAM,CAAC,GAAK,mBAAqBK,EAAKrB,GAAG,KAAO,OAAO,CAACa,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,IAAI,CAACE,YAAY,kBAAkB,CAACN,EAAIQ,GAAG,IAAIR,EAAIS,GAAGT,EAAIoB,QAAQR,IAAO,OAAOR,EAAG,KAAK,CAACE,YAAY,mBAAmB,CAACN,EAAIQ,GAAGR,EAAIS,GAAGG,EAAKO,WAAWE,eAAejB,EAAG,qBAAqB,CAACG,MAAM,CAAC,GAAK,mBAAqBK,EAAKrB,GAAG,KAAO,OAAO,CAACa,EAAG,MAAM,CAACE,YAAY,kBAAkBC,MAAM,CAAC,IAAMP,EAAIsB,SAASV,SAAY,MAAK,GAAKZ,EAAIb,WAAWoC,WAAiIvB,EAAIwB,KAAzHpB,EAAG,SAAS,CAACE,YAAY,eAAemB,GAAG,CAAC,MAAQzB,EAAI0B,WAAW,CAAC1B,EAAIQ,GAAG,IAAIR,EAAIS,GAAGT,EAAIU,GAAG,iBAAiB,YACvzCiB,EAAkB,G,wDC2DP,GACbC,KAAMA,qBACN/B,KAFF,WAGI,MAAO,CACLV,WAAYA,CACVP,KAAMA,EACNC,SAAUA,EACV0C,YAAYA,GAEdM,MAAMA,EACNC,YAAYA,EACZC,SAAUA,GACVC,WAAYA,CACVC,SAAQA,SACRC,UAASA,QACTC,QAAOA,SACPC,SAAQA,QACRC,MAAKA,QACLC,OAAMA,SACNC,OAAMA,QACNC,UAASA,QACTC,WAAUA,WACVC,UAASA,QACTC,SAAQA,YAIdC,QAASA,CACP3B,cADJ,SACA4B,GACM,IAAN,MACM,OAAOhC,EAAQ,IAAM,GAAKA,EAAQ,IAAM,GAE1CS,SALJ,SAKAV,GAAA,YACM,OAAOX,KAAK6C,SAASC,gBAA3B,OAA2CnC,QAA3C,8JAEIQ,QARJ,SAQAR,GACM,IAAN,qCACA,mCACQoC,KAAMA,UACNC,MAAOA,OACPC,IAAKA,YACbC,OAAAC,GACA,eACA,0CACM,MAA0B,OAAtBnD,KAAKoD,MAAMC,OACNC,EAEAC,GAGX9B,SAvBJ,WAuBA,WACMzB,KAAKd,WAAWP,OAChBD,eAAYA,KAAKA,WAAWA,KAAMA,KAAKA,WAAWA,SAAUA,WAAWA,MAAKA,SAAjEA,GACT,EAAR,sEACY,EAAZ,8CACU,EAAV,yBAEU,EAAV,8BAKE8E,QA9DF,WA8DA,WACI9E,eAAYA,KAAKA,WAAWA,KAAMA,KAAKA,WAAWA,SAAUA,WAAWA,MAAKA,SAAjEA,GACT,EAAN,gBACU,EAAV,8CACQ,EAAR,yBAEQ,EAAR,8BChI2W,I,wBCQvW+E,EAAY,eACd,EACA3D,EACA4B,GACA,EACA,KACA,WACA,MAIa,aAAA+B,E","file":"js/chunk-868f548e.a576c72f.js","sourcesContent":["import axios from \"@/plugins/axios\"\nimport qs from \"qs\"\n\nexport const getArticles = async (page = 1, pageSize = 500, type, excludeId) => {\n  const query = qs.stringify({\n    pagination: {\n      page,\n      pageSize,\n    },\n    populate: \"*\",\n    cities: {\n      populate: \"*\",\n    },\n    filters: {\n      id: {\n        $ne: excludeId,\n      },\n      type: {\n        $contains: type,\n      },\n    },\n  })\n  const response = await axios.get(`/articles?${query}`)\n  return response?.data\n}\n\nexport const getArticleById = async (id) => {\n  const query = qs.stringify({\n    populate: \"*\",\n    cities: {\n      populate: \"*\",\n    },\n  })\n  const response = await axios.get(`/articles/${id}?${query}`)\n  return response?.data\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageUsefulArticles.vue?vue&type=style&index=0&id=85d99000&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"articles\"},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"recipes__nav\"},[_c('locale-router-link',{staticClass:\"crumbs-link main-page-link\",attrs:{\"to\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.$t(\"home\"))+\" \")]),_c('a',{staticClass:\"crumbs-link recipes-link\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"usefulArticles\")))])],1),_c('h2',{staticClass:\"articles-title\"},[_vm._v(_vm._s(_vm.$t(\"usefulArticles\")))]),_c('div',{staticClass:\"articles__items\"},_vm._l((_vm.articles),function(item,index){return _c('div',{key:index,staticClass:\"articles__item\",class:{ big: _vm.checkItemSize(index), hidden: item.attributes.type != 'article' }},[_c('locale-router-link',{attrs:{\"to\":'useful-articles/' + item.id,\"href\":\"#?\"}},[_c('div',{staticClass:\"articles__content\"},[_c('p',{staticClass:\"articles__date\"},[_vm._v(\" \"+_vm._s(_vm.getDate(item))+\" \")]),_c('h6',{staticClass:\"articles__title\"},[_vm._v(_vm._s(item.attributes.header))])])]),_c('locale-router-link',{attrs:{\"to\":'useful-articles/' + item.id,\"href\":\"#?\"}},[_c('img',{staticClass:\"articles__image\",attrs:{\"src\":_vm.getImage(item)}})])],1)}),0),(!_vm.pagination.isLastPage)?_c('button',{staticClass:\"see-all__btn\",on:{\"click\":_vm.nextPage}},[_vm._v(\" \"+_vm._s(_vm.$t(\"catalog.more\"))+\" \")]):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"articles\">\n    <div class=\"container\">\n      <div class=\"recipes__nav\">\n        <locale-router-link\n          to=\"\"\n          class=\"crumbs-link main-page-link\"\n        >\n          {{ $t(\"home\") }}\n        </locale-router-link>\n        <!-- <locale-router-link\n          to=\"cooking\"\n          class=\"crumbs-link cooking-with-magnum\"\n          >{{ $t(\"cookingWithMagnum\") }}\n        </locale-router-link> -->\n        <a class=\"crumbs-link recipes-link\"> {{ $t(\"usefulArticles\") }}</a>\n      </div>\n      <h2 class=\"articles-title\">{{ $t(\"usefulArticles\") }}</h2>\n      <div class=\"articles__items\">\n        <div\n          v-for=\"(item, index) in articles\"\n          :key=\"index\"\n          class=\"articles__item\"\n          :class=\"{ big: checkItemSize(index), hidden: item.attributes.type != 'article' }\"\n        >\n          <locale-router-link\n            :to=\"'useful-articles/' + item.id\"\n            href=\"#?\"\n          >\n            <div class=\"articles__content\">\n              <p class=\"articles__date\">\n                {{ getDate(item) }}\n              </p>\n              <h6 class=\"articles__title\">{{ item.attributes.header }}</h6>\n            </div>\n          </locale-router-link>\n          <locale-router-link\n            :to=\"'useful-articles/' + item.id\"\n            href=\"#?\"\n          >\n            <img\n              :src=\"getImage(item)\"\n              class=\"articles__image\"\n            />\n          </locale-router-link>\n        </div>\n      </div>\n      <button\n        v-if=\"!pagination.isLastPage\"\n        @click=\"nextPage\"\n        class=\"see-all__btn\"\n      >\n        {{ $t(\"catalog.more\") }}\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { getArticles } from \"@/api/articles\"\nexport default {\n  name: \"PageUsefulArticles\",\n  data() {\n    return {\n      pagination: {\n        page: 1,\n        pageSize: 7,\n        isLastPage: false,\n      },\n      show: false,\n      showSeeAll: false,\n      articles: [],\n      localMonth: {\n        января: \"қаңтар\",\n        февраля: \"ақпан\",\n        марта: \"наурыз\",\n        апреля: \"сәуір\",\n        мая: \"мамыр\",\n        июня: \"маусым\",\n        июля: \"шілде\",\n        августа: \"тамыз\",\n        сентября: \"қыркүйек\",\n        октября: \"қазан\",\n        ноября: \"қараша\",\n      },\n    }\n  },\n  methods: {\n    checkItemSize(e) {\n      const index = e + 1\n      return index % 5 === 1 || index % 5 === 2\n    },\n    getImage(item) {\n      return this.$helpers.getAbsolutePath(item?.attributes?.image?.data?.attributes?.url)\n    },\n    getDate(item) {\n      const dateFromStr = new Date(item.attributes.publishedAt)\n      let dateRU = new Intl.DateTimeFormat(\"ru-Ru\", {\n        year: \"numeric\",\n        month: \"long\",\n        day: \"numeric\",\n      }).format(dateFromStr)\n      let date = dateRU.split(\" \")\n      let dateKZ = date[0] + \" \" + this.localMonth[date[1]] + \" \" + date[2]\n      if (this.$i18n.locale === \"kz\") {\n        return dateKZ\n      } else {\n        return dateRU\n      }\n    },\n    nextPage() {\n      this.pagination.page++\n      getArticles(this.pagination.page, this.pagination.pageSize, \"article\").then((res) => {\n        this.articles = [...this.articles, ...res.data]\n        if (this.pagination.page === res.meta.pagination.pageCount) {\n          this.pagination.isLastPage = true\n        } else {\n          this.pagination.isLastPage = false\n        }\n      })\n    },\n  },\n  created() {\n    getArticles(this.pagination.page, this.pagination.pageSize, \"article\").then((res) => {\n      this.articles = res.data\n      if (this.pagination.page === res.meta.pagination.pageCount) {\n        this.pagination.isLastPage = true\n      } else {\n        this.pagination.isLastPage = false\n      }\n    })\n  },\n}\n</script>\n\n<style\n  lang=\"scss\"\n  scoped\n>\n.see-all__btn {\n  margin-top: 40px;\n}\n.hidden {\n  display: none;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageUsefulArticles.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageUsefulArticles.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PageUsefulArticles.vue?vue&type=template&id=85d99000&scoped=true&\"\nimport script from \"./PageUsefulArticles.vue?vue&type=script&lang=js&\"\nexport * from \"./PageUsefulArticles.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PageUsefulArticles.vue?vue&type=style&index=0&id=85d99000&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"85d99000\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}