(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22691a"],{e8e6:function(t,e,i){"use strict";i.r(e);var c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"city-choice",class:{"is-opened":t.isOpenSelectCity},on:{click:t.closeSelectCity}},[i("div",{staticClass:"city-choice__container",on:{click:function(t){t.stopPropagation()}}},[i("div",{staticClass:"city-choice__title"},[t._v(t._s(t.$t("selectCity")))]),t.cities&&t.selectedCity?i("div",{staticClass:"city-choice__list"},t._l(t.cities,(function(e){return i("a",{key:e.id,staticClass:"city-choice__city",class:{"is-active":e.id===t.selectedCity.id},on:{click:[t.closeSelectCity,function(i){return i.preventDefault(),t.saveCity(e)}]}},[t._v(" "+t._s(e.attributes.name)+" ")])})),0):t._e(),i("button",{staticClass:"city-choice__button",on:{click:t.closeSelectCity}},[t._v(" Выбрать город ")])])])},s=[],a=i("5530"),o=(i("7db0"),i("d3b7"),i("b0c0"),i("2f62")),l=i("4360"),n=i("ccd7"),r={name:"CitiesList",computed:Object(a["a"])(Object(a["a"])({},Object(o["e"])(["isOpenSelectCity"])),Object(o["e"])("cityModule",{cities:"data",selectedCity:"selectedCity"})),created:function(){var t=this;this.getAllCities().then((function(e){var i=t.$route.query.city_id?parseInt(t.$route.query.city_id):JSON.parse(localStorage.getItem("selectCity").id)||2,c=e.find((function(t){return t.id===i}));t.$router.onReady((function(){if(!t.$route.query.city_id){if(t.$route.query.q)return void t.$router.push({params:{lang:t.$i18n.locale||"ru"},query:{q:t.$route.query.q,city_id:(null===c||void 0===c?void 0:c.id)||c||2}});t.$router.push({params:{lang:t.$i18n.locale||"ru"},query:{city_id:(null===c||void 0===c?void 0:c.id)||c||2}})}})),t.saveChoosedCity(c)}))},methods:Object(a["a"])(Object(a["a"])(Object(a["a"])({},Object(o["b"])({closeSelectCity:l["a"].changeIsOpenSelectCity})),Object(o["b"])("cityModule",{getAllCities:n["a"].loadAllCities,saveChoosedCity:n["a"].changeSelectedCity})),{},{saveCity:function(t){this.saveChoosedCity(t),this.$router.push({name:this.$route.name,params:Object(a["a"])({},this.$route.params),query:Object(a["a"])(Object(a["a"])({},this.$route.query),{},{city_id:t.id||2})})}})},u=r,d=i("2877"),y=Object(d["a"])(u,c,s,!1,null,null,null);e["default"]=y.exports}}]);
//# sourceMappingURL=chunk-2d22691a.aeae5f3f.js.map